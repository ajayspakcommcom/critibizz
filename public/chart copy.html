<html class="openNav">
<head>
  <title>BSV 1: Dashboard</title>

  <meta name="viewport" content="width=device-width, initial-scale=1">
  <!-- <link rel="stylesheet" href="/css/bootstrap.min.css" /> -->
  <link rel="stylesheet" href="https://code.jquery.com/ui/1.13.1/themes/base/jquery-ui.css" />
  <link rel="stylesheet" href="admin/css/admin.css" />
  <script src="admin/js/jquery.min.js"></script>

  <script src="https://unpkg.com/axios/dist/axios.min.js"></script>

  <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>

</head>

<body>

  <div class="primary-nav">

    <button href="javascript:void(0);" class="hamburger open-panel nav-toggle" id="nav-toggle">
      <span class="screen-reader-text">Menu</span>
    </button>

    <nav role="navigation" class="menu">

      <a href="/admin-dashbaord" class="logotype"><img src="img/logo.png" alt="" class="img-responsive" /></a>

      <div class="overflow-container">

        <ul class="menu-dropdown">

          <li><a href="/admin-dashbaord">Dashboard</a><span class="icon"><i class="fa fa-dashboard"></i></span></li>

          <li class="menu-hasdropdown">
            <div class="dropdown-btnwrapper">
              <a href="javascript:void(0);" class="dropdown-btn">Reports</a>
              <img src="/admin/img/down-arrow.png" alt="icon" class="drop-icon" />
            </div>
            <ul class="sub-menu-dropdown">
              <li><a href="/report">Report 1</a></li>
            </ul>
          </li>
        </ul>

      </div>

    </nav>

  </div>

  <div class="new-wrapper">
    <div id="main">
      <div id="regions_div" style="width: calc(100% - 0px);height: 100vh;"></div>
    </div>
  </div>

  <script>
    google.charts.load('current', {
      'packages': ['geochart'],
    });
    google.charts.setOnLoadCallback(drawRegionsMap);

    function drawRegionsMap() {

      var data = google.visualization.arrayToDataTable([
        ['State', 'Potential Bussiness', 'Actual Business'],

        // North Zone
        ['Delhi', 500000, 1111],
        ['Haryana', 800000, 2000],
        ['Punjab', 200000, 77777],
        ['Uttar Pradesh', 1000000, 88888],
        ['Jammu and Kashmir', 1100000, 98765],
        ['Himachal Pradesh', 1200000, 98765],
        ['Uttarakhand', 1300000, 98765],

        // // South Zone
        // ['IN-AP', 'Andhra Pradesh', 1500000, 98765],
        // ['IN-KA', 'Karnataka', 1600000, 98765],
        // ['IN-KL', 'Kerala', 800000, 98765],
        // ['IN-TN', 'Tamil Nadu', 400000, 98765],
        // ['IN-PY', 'Puducherry', 1000000, 88888],

        // //West Zone
        // ['IN-RJ', 'Rajasthan', 9030000, 33333],
        // ['IN-MP', 'Madhya Pradesh', 9010000, 33333],
        // ['IN-GJ', 'Gujarat', 900000, 33333],
        // ['IN-DD', 'Daman and Diu', 900000, 33333],
        // ['IN-DN', 'Dadra and Nagar Haveli', 1000000, 88888],
        // ['IN-MH', 'Maharashtra', 1000000, 88888],
        // ['IN-GA', 'Goa', 1000000, 88888],

        // //East Zone
        // ['IN-BR', 'Bihar', 1000000, 88888],
        // ['IN-SK', 'Sikkim', 1000000, 88888],
        // ['IN-AR', 'Arunachal Pradesh', 1000000, 88888],
        // ['IN-NL', 'Nagaland', 1000000, 88888],
        // ['IN-MN', 'Manipur', 1000000, 88888],
        // ['IN-MZ', 'Mizoram', 1000000, 88888],
        // ['IN-TR', 'Tripura', 1000000, 88888],
        // ['IN-ML', 'Meghalaya', 1000000, 88888],
        // ['IN-AS', 'Assam', 1000000, 88888],
        // ['IN-WB', 'West Bengal', 1000000, 88888],
        // ['IN-JH', 'Jharkhand', 1000000, 88888],
        // ['IN-OR', 'Odisha', 1000000, 88888],
        // ['IN-CT', 'Chhattisgarh', 1000000, 88888],
      ]);

      var options = {
        region: 'IN', // India 
        displayMode: 'markers', //If you want to highlight some cities
        resolution: 'provinces', //If you want to display provinces in India
        colorAxis: { colors: ['#1aa3ff', '#1aa3ff'] },
        displayMode: 'regions'
      };

      var chart = new google.visualization.GeoChart(document.getElementById('regions_div'));

      google.visualization.events.addListener(chart, 'select', function () {
        if (chart.getSelection()[0]) {
          var selectionIdx = chart.getSelection()[0].row;
          var countryName = data.getValue(selectionIdx, 0);
          console.log('selectionIdx', selectionIdx);
          console.log('countryName', countryName);
          window.location.href = `hospital-list?id=${selectionIdx}&name=${countryName}`;
        }
      });

      chart.draw(data, options);
    }
  </script>

<script>
  const toggleBtn = document.getElementById('nav-toggle');

  toggleBtn.addEventListener('click', () => {
      let htmlElem = document.querySelector('html');
      htmlElem.classList.toggle('openNav');
  });

  $('.dropdown-btnwrapper').on('click', function() {
      let $this = $(this);
      $this.parents('.menu-hasdropdown').find('.sub-menu-dropdown').toggleClass('active');
  });

</script>

</body>

</html>